{"version":3,"file":"static/js/278.8428ee83.chunk.js","mappings":"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","sources":["pages/achievements/styles.tsx","components/achievements/styles.tsx","components/achievements/achievement-card.component.tsx","components/achievements/index.tsx","components/achievements/achievement-overview.component.tsx","pages/achievements/index.tsx"],"sourcesContent":["import styled from 'styled-components';\r\n\r\nexport const Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 1.4rem 12%;\r\n  overflow: auto;\r\n  gap: 1.4rem;\r\n  /* mobile styles */\r\n  @media only screen and (max-width: 768px) {\r\n    padding: 1.4rem 4.2%;\r\n  }\r\n`;\r\n","import styled from \"styled-components\";\r\nimport { FadeAnim1 } from \"../../utils/styles.util\";\r\nimport clap from '../../assets/icons/clap.png';\r\nimport clapUnfilled from '../../assets/icons/clap-unfilled.png';\r\n\r\nexport const Card = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 0.42% 0.84%;\r\n  border-radius: 0.42rem;\r\n  gap: 0.42rem;\r\n  animation: ${FadeAnim1} 1s;\r\n  ${props => props.theme.boxShadow}\r\n  /* mobile styles */\r\n  @media only screen and (max-width: 768px) {\r\n    padding: 0.5% 0.7rem;\r\n  }\r\n`;\r\n\r\nexport const Top = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nexport const Name = styled.span`\r\n  font-family: geomanist;\r\n  font-size: 1.8rem;\r\n  color: ${props => props.theme.fontColor};\r\n`;\r\n\r\nexport const Description = styled.span`\r\n  font-family: arial;\r\n  font-size: 1.2rem;\r\n  color: ${props => props.theme.fontColor};\r\n`;\r\n\r\nexport const Footer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n`;\r\n\r\nexport const Interactions = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.42rem;\r\n  div {\r\n    display: flex;\r\n    align-items: center;\r\n    cursor: pointer;\r\n    gap: 0.3rem;\r\n    &:hover {opacity: 0.5;}\r\n    span {\r\n      font-family: arial;\r\n      font-size: 1.2rem;\r\n      color: ${props => props.theme.fontColor};\r\n    }\r\n  }\r\n`;\r\n\r\nexport const ClapIcon = styled.img.attrs((props: { liked: boolean }) => ({\r\n  src: props.liked ? clap : clapUnfilled,\r\n  alt: \"clap\",\r\n}))<{ dark: boolean; liked: boolean }>`\r\n  width: 2.1rem;\r\n  height: auto;\r\n  opacity: 0.9;\r\n  &:hover {opacity: 0.5;}\r\n  ${props => (props.dark && !props.liked) && `filter: invert(100%);`}\r\n`;\r\n","import { useCallback, useEffect, useState, useRef } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Achievement, AchievementStats } from \"../../data/achievements.data\";\r\nimport commentIcon from '../../assets/icons/comment.png';\r\nimport { API_URL } from \"../../utils/constants.util\";\r\n\r\nimport { \r\n  Card, Top, Name, Description, \r\n  Footer, Interactions, \r\n  ClapIcon\r\n} from './styles';\r\nimport { InteractionIcon } from \"../../utils/styles.util\";\r\nimport { CredBtn, HrzntlLn } from \"../../utils/styles.util\";\r\nimport { transcriptPageTranslations } from '../../utils/translations.util';\r\nimport { useCommonContext } from '../../contexts/common.context';\r\nimport { useAchievementContext } from '../../contexts/achievement.context';\r\nimport { useCommentsContext } from '../../contexts/comments.context';\r\nimport { useUserContext } from \"../../contexts/user.context\";\r\n\r\ninterface AchievementCardProps {\r\n  id: string;\r\n}\r\n\r\nconst AchievementCard: React.FC<AchievementCardProps> = ({id}) => {\r\n  const { isDark, language } = useCommonContext();\r\n  const { setCurrAchievement } = useAchievementContext();\r\n  const { setCommentsMeta, onUnmount, setCallbacks } = useCommentsContext();\r\n  const { likes, addLike, removeLike, token } = useUserContext();\r\n\r\n  const [achievement, setAchievement] = useState<Achievement|null>();\r\n  const [stats, setStats] = useState<AchievementStats|null>();\r\n  const [liked, setLiked] = useState<boolean>(false);\r\n  const fetched = useRef<boolean>(false);\r\n\r\n  useEffect(() => {\r\n    if (fetched.current) return;\r\n    setLiked(likes.includes(id));\r\n    axios.post(\r\n      `${API_URL}/api/achievements/${id}`,\r\n      {},\r\n      {headers: {Authorization: `Bearer ${token}`}}\r\n    ).then(({data}) => setAchievement(data));\r\n    axios.post(\r\n      `${API_URL}/api/achievements/stats/${id}`,\r\n      {},\r\n      {headers: {Authorization: `Bearer ${token}`}}\r\n    ).then(({data}) => setStats(data));\r\n    fetched.current = true;\r\n    return () => onUnmount!();\r\n  }, [id, onUnmount, token]);\r\n\r\n  const handleClick = useCallback(() => {\r\n    setCurrAchievement!(achievement as Achievement);\r\n  }, [achievement, setCurrAchievement]);\r\n\r\n  const incCmt = () => {\r\n    setStats(prev => ({\r\n      comments: `${+(prev?.comments as string||0) + 1}`,\r\n      appreciations: prev?.appreciations as string,\r\n    }));\r\n  };\r\n\r\n  const decCmt = () => {\r\n    setStats(prev => ({\r\n      comments: `${+(prev?.comments as string||0) - 1}`,\r\n      appreciations: prev?.appreciations as string,\r\n    }));\r\n  };\r\n\r\n  const showComments = useCallback(() => {\r\n    setCommentsMeta!(\"achievements\", id+'||'+achievement?.title as string);\r\n    setCallbacks!({incCmt, decCmt});\r\n  },[id, achievement?.title, setCommentsMeta, setCallbacks]);\r\n\r\n  const toggleLike = () => {\r\n    if (!liked) {\r\n      axios.put(\r\n        `${API_URL}/api/achievements/like/${id}`,\r\n        {},\r\n        {headers: {Authorization: `Bearer ${token}`}}\r\n      ).then(() => {\r\n        setStats(prev => ({\r\n          appreciations: `${(+(prev?.appreciations as string||0))+1}`, \r\n          comments: prev?.comments as string\r\n        }));\r\n        addLike!(id);\r\n        setLiked(true);\r\n      });\r\n    } else {\r\n      axios.put(\r\n        `${API_URL}/api/achievements/dislike/${id}`,\r\n        {},\r\n        {headers: {Authorization: `Bearer ${token}`}}\r\n      ).then(() => {\r\n        setStats(prev => ({\r\n          appreciations: `${(+(prev?.appreciations as string||0))-1}`, \r\n          comments: prev?.comments as string\r\n        }));\r\n        removeLike!(id);\r\n        setLiked(false);\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Card>\r\n      <Top>\r\n        <Name>{achievement?.title}</Name>\r\n        <HrzntlLn />\r\n      </Top>\r\n      <Description>{achievement?.description}</Description>\r\n      <Footer>\r\n        <Interactions>\r\n          <div onClick={toggleLike}>\r\n            <ClapIcon liked={liked} dark={isDark} />\r\n            <span>\r\n              {stats?.appreciations !== \"0\" ? stats?.appreciations : \"\"}\r\n            </span>\r\n          </div>\r\n          <div onClick={showComments}>\r\n            <InteractionIcon dark={isDark} src={commentIcon} alt=\"comment\" />\r\n            <span>\r\n              {stats?.comments !== \"0\" ? stats?.comments : \"\"}\r\n            </span>\r\n          </div>\r\n        </Interactions>\r\n        <CredBtn key={language} onClick={handleClick}>\r\n          {transcriptPageTranslations.showCred[+language]}\r\n        </CredBtn>\r\n      </Footer>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default AchievementCard;\r\n","import AchievementCard from \"./achievement-card.component\";\r\nimport { useAchievementContext } from '../../contexts/achievement.context';\r\n\r\ninterface AchievementsProps {}\r\n\r\nconst Achievements: React.FC<AchievementsProps> = () => {\r\n  const { achievements } = useAchievementContext();\r\n  \r\n  return (\r\n    <>\r\n      {achievements.map(achievementId => (\r\n        <AchievementCard key={achievementId} id={achievementId} />\r\n      ))}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Achievements;\r\n","import { \r\n  OverviewContainer, OverviewBox, \r\n  CloseIcon, OverviewImage,\r\n  CredBtn, OverviewHeader\r\n} from '../../utils/styles.util';\r\nimport { transcriptPageTranslations } from '../../utils/translations.util';\r\n\r\nimport { useCommonContext } from '../../contexts/common.context';\r\nimport { useAchievementContext } from '../../contexts/achievement.context';\r\n\r\ninterface AchievementOverviewProps {}\r\n\r\nconst AchievementOverview: React.FC<AchievementOverviewProps> = () => {\r\n  const { isDark, language } = useCommonContext();\r\n  const { currAchievement, setCurrAchievement } = useAchievementContext();\r\n\r\n  if (!currAchievement) return <div />;\r\n\r\n  return (\r\n    <OverviewContainer>\r\n      <OverviewBox>\r\n        <OverviewHeader>\r\n          <div />\r\n          <CloseIcon dark={isDark} onClick={() => setCurrAchievement!(null)} />\r\n        </OverviewHeader>\r\n        <OverviewImage\r\n          src={currAchievement.credential_link}\r\n          alt=\"credential\"\r\n        />\r\n        {currAchievement.verify_url && (\r\n          <CredBtn>\r\n            <a\r\n              href={currAchievement.verify_url}\r\n              target=\"_blank\"\r\n              rel=\"noreferrer\"\r\n            >\r\n              {transcriptPageTranslations.verify[+language]}\r\n            </a>\r\n          </CredBtn>\r\n        )}\r\n      </OverviewBox>\r\n    </OverviewContainer>\r\n  );\r\n};\r\n\r\nexport default AchievementOverview;\r\n","import { useEffect } from \"react\";\r\n\r\nimport { Container } from \"./styles\";\r\n\r\nimport Achievements from \"../../components/achievements\";\r\nimport AchievementOverview from \"../../components/achievements/achievement-overview.component\";\r\nimport { useMenuContext } from \"../../contexts/menu.context\";\r\nimport { useAchievementContext } from '../../contexts/achievement.context';\r\n\r\ninterface AchievementsPageProps {}\r\n\r\nconst AchievementsPage: React.FC<AchievementsPageProps> = () => {\r\n  const { setMenu } = useMenuContext();\r\n  const { currAchievement } = useAchievementContext();\r\n\r\n  useEffect(() => setMenu!(5), []);\r\n  \r\n  return (\r\n    <>\r\n      {currAchievement && <AchievementOverview />}\r\n      <Container>\r\n        <Achievements />\r\n      </Container>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AchievementsPage;\r\n"],"names":["Container","styled","Card","FadeAnim1","props","theme","boxShadow","Top","Name","fontColor","Description","Footer","Interactions","ClapIcon","src","liked","alt","dark","id","useCommonContext","isDark","language","setCurrAchievement","useAchievementContext","useCommentsContext","setCommentsMeta","onUnmount","setCallbacks","useUserContext","likes","addLike","removeLike","token","useState","achievement","setAchievement","stats","setStats","setLiked","fetched","useRef","useEffect","current","includes","axios","API_URL","headers","Authorization","then","data","handleClick","useCallback","incCmt","prev","comments","appreciations","decCmt","showComments","title","description","onClick","commentIcon","transcriptPageTranslations","achievements","map","achievementId","currAchievement","credential_link","verify_url","href","target","rel","setMenu","useMenuContext"],"sourceRoot":""}